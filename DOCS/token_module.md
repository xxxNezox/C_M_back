# Техническая документация для модуля Token

## Описание
Модуль `Token` предоставляет функциональность для работы с аутентификационными токенами в приложении. Он включает в себя методы для создания, проверки валидности, обновления и удаления токенов в базе данных.

## Используемые библиотеки
- `jsonwebtoken`: Для создания и проверки JSON Web Tokens (JWT).
- `pool` и `dotenv`: Для работы с базой данных PostgreSQL и загрузки переменных окружения из файла `.env`.

## Класс: Token

### Методы

#### `_getUserIdByUsername(username: string): Promise<number | false>`
Приватный метод для получения идентификатора пользователя (`user_id`) по его имени пользователя (`username`).

- **Параметры:**
  - `username` (тип: строка) - Имя пользователя для поиска в базе данных.

- **Возвращает:**
  - `Promise<number | false>` - Идентификатор пользователя или `false`, если пользователь не найден.

#### `createToken(username: string): Promise<string | false>`
Метод для создания нового JWT токена для пользователя и его сохранения в базе данных.

- **Параметры:**
  - `username` (тип: строка) - Имя пользователя, для которого создается токен.

- **Возвращает:**
  - `Promise<string | false>` - Строка с JWT токеном или `false`, если не удалось создать токен.

#### `isTokenValid(token: string): Promise<boolean>`
Метод для проверки валидности JWT токена по времени его обновления.

- **Параметры:**
  - `token` (тип: строка) - JWT токен для проверки.

- **Возвращает:**
  - `Promise<boolean>` - `true`, если токен валиден, иначе `false`.

#### `refreshToken(token: string): Promise<boolean>`
Метод для обновления времени последнего обновления токена в базе данных.

- **Параметры:**
  - `token` (тип: строка) - JWT токен, время обновления которого нужно обновить.

- **Возвращает:**
  - `Promise<boolean>` - `true`, если обновление прошло успешно, иначе `false`.

#### `deleteToken(token: string): Promise<void>`
Метод для удаления токена из базы данных.

- **Параметры:**
  - `token` (тип: строка) - JWT токен, который нужно удалить.

- **Возвращает:**
  - `Promise<void>` - Промис без возвращаемого значения.

### Экспорт
- `module.exports = Token`: Экспорт класса `Token` для использования в других частях приложения.

## Примечание
- При использовании методов класса, убедитесь, что передаются корректные данные.
- Все методы возвращают промисы, поэтому при необходимости использовать результат, используйте `async/await` или обработку промисов.